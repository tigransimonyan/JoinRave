(this.webpackJsonpjoinrave=this.webpackJsonpjoinrave||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(4),s=n.n(a),r=(n(9),n(2)),o=n.p+"static/media/play.67fb6362.svg",u=n.p+"static/media/pause.12407eb8.svg",d=n(0),l=new Audio;var j=function(){var e,t,n=Object(c.useState)(null),i=Object(r.a)(n,2),a=i[0],s=i[1],j=Object(c.useState)(!1),v=Object(r.a)(j,2),b=v[0],f=v[1],m=Object(c.useState)(!1),p=Object(r.a)(m,2),O=p[0],h=p[1],g=Object(c.useState)(!1),E=Object(r.a)(g,2),x=E[0],y=E[1],L=function(){h(!0),f(!0),fetch("http://localhost:9003/current").then((function(e){return e.json()})).then((function(e){s(e),l.src=e.metadata.file})).catch((function(){h(!1),f(!1)}))},S=function(){h(!1),f(!0)},k=function(){y(!0)};return Object(c.useEffect)((function(){x&&a&&(l.currentTime=a.time,l.volume=1,l.play())}),[x,a]),Object(c.useEffect)((function(){return l.addEventListener("ended",L),l.addEventListener("canplay",k),l.addEventListener("playing",S),function(){l.removeEventListener("ended",L),l.removeEventListener("canplay",k),l.removeEventListener("playing",S)}}),[]),Object(d.jsxs)("div",{className:"app",children:[b?Object(d.jsx)("img",{src:u,onClick:function(){l.pause(),f(!1)}}):Object(d.jsx)("img",{src:o,onClick:L}),Object(d.jsxs)("div",{className:"info",children:[O&&"Loading...",!O&&a&&Object(d.jsxs)(d.Fragment,{children:[null===a||void 0===a||null===(e=a.metadata)||void 0===e?void 0:e.title," by ",Object(d.jsx)("b",{children:null===a||void 0===a||null===(t=a.metadata)||void 0===t?void 0:t.artist})]})]})]})};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.8d642be5.chunk.js.map