(this.webpackJsonpjoinrave=this.webpackJsonpjoinrave||[]).push([[0],{11:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),o=i(4),a=i.n(o),c=(i(9),i(3)),d=i.p+"static/media/play.67fb6362.svg",r=i.p+"static/media/pause.12407eb8.svg",h=function(){window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var t,e=90,i=2265,n=1465,s=i/e,o=n/e,a=5e-4,c=.01,d=0,r=0,h=0,u=!1,l=function(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.ind_x=0,this.ind_y=0};function m(t,e,i,n){v.moveTo(t.x,t.y),v.lineTo(e.x,e.y),v.moveTo(t.x,t.y),v.lineTo(n.x,n.y),88==t.ind_x&&(v.moveTo(i.x,i.y),v.lineTo(n.x,n.y)),88==t.ind_y&&(v.moveTo(i.x,i.y),v.lineTo(e.x,e.y))}function y(){v.fillStyle="hsla(0, 5%, 5%, .1)",v.fillRect(0,0,i,n),function(){for(var i=0;i<e;i++)for(var n=0;n<e;n++)t[i][n].frame()}(),function(){v.strokeStyle="hsla("+d%360+",100%,50%,1)",v.beginPath(),d-=.5;for(var e=0;e<89;e+=1)for(var i=0;i<89;i+=1)m(t[e][i],t[e][i+1],t[e+1][i+1],t[e+1][i]);v.stroke()}()}l.prototype.frame=function(){if(0!=this.ind_x&&89!=this.ind_x&&0!=this.ind_y&&89!=this.ind_y){var e=0,i=0,n=this.ind_x*s-this.x,d=this.ind_y*o-this.y;if(e=a*n,i=a*d,e-=c*(this.x-t[this.ind_x-1][this.ind_y].x),i-=c*(this.y-t[this.ind_x-1][this.ind_y].y),e-=c*(this.x-t[this.ind_x+1][this.ind_y].x),i-=c*(this.y-t[this.ind_x+1][this.ind_y].y),e-=c*(this.x-t[this.ind_x][this.ind_y-1].x),i-=c*(this.y-t[this.ind_x][this.ind_y-1].y),e-=c*(this.x-t[this.ind_x][this.ind_y+1].x),i-=c*(this.y-t[this.ind_x][this.ind_y+1].y),this.vx+=e-.02*this.vx,this.vy+=i-.02*this.vy,this.x+=.98*this.vx,this.y+=.98*this.vy,u){var l=this.x-r,m=this.y-h,y=Math.sqrt(l*l+m*m);y<50&&(y=y<10?10:y,this.x-=l/y*5,this.y-=m/y*5)}}};var v,x=document.getElementById("canv");function f(t){u=!0}function w(t){u=!1}function b(t){var e=t.target.getBoundingClientRect();r=t.clientX-e.left,h=t.clientY-e.top}(v=x.getContext("2d")).fillStyle="hsla(0, 5%, 5%, .1)",v.fillRect(0,0,i,n),window.requestAnimFrame((function(){t=[];for(var i=0;i<e;i++){t.push([]);for(var n=0;n<e;n++){var a=new l;a.ind_x=i,a.ind_y=n,a.x=i*s,a.y=n*o,t[i][n]=a}}})),document.addEventListener("mousemove",b,!1),document.addEventListener("mousedown",f,!1),document.addEventListener("mouseup",w,!1),document.addEventListener("touchstart",f,!1),document.addEventListener("touchmove",b,!1),document.addEventListener("touchend",w,!1),function t(){window.requestAnimFrame(y),window.requestAnimFrame(t,33)}(),x.width<window.innerWidth&&(x.width=window.innerWidth),x.height<window.innerHeight&&(x.height=window.innerHeight)},u=i(1),l=new Audio;var m=function(){var t=Object(n.useState)(!1),e=Object(c.a)(t,2),i=e[0],s=e[1],o=Object(n.useState)(!1),a=Object(c.a)(o,2),m=a[0],y=a[1];Object(n.useEffect)((function(){l.crossOrigin="anonymous",l.src="https://radio.joinrave.com/stream",l.load()}),[]);var v=Object(n.useCallback)((function(){m&&!i&&(console.log("audio.play"),l.play(),s(!0))}),[m,i]),x=Object(n.useCallback)((function(){i&&(console.log("audio.pause"),l.pause(),s(!1))}),[i]),f=Object(n.useCallback)((function(){m||(console.log("onCanplay"),y(!0))}),[m]),w=Object(n.useCallback)((function(){return v()}),[v]),b=Object(n.useCallback)((function(){return x()}),[x]);return Object(n.useEffect)((function(){return l.addEventListener("play",w),l.addEventListener("pause",b),l.addEventListener("canplay",f),function(){l.removeEventListener("play",w),l.removeEventListener("pause",b),l.removeEventListener("canplay",f)}}),[w,f,b]),Object(n.useLayoutEffect)((function(){try{h()}catch(t){console.log(t)}}),[]),Object(u.jsxs)("div",{id:"main",children:[Object(u.jsx)("canvas",{id:"canv",width:"100%",height:"100%"}),Object(u.jsxs)("div",{className:"app",children:[i?Object(u.jsx)("img",{className:"pause",alt:"Pause",src:r,onClick:x}):Object(u.jsx)("img",{className:"play",alt:"Play",src:d,onClick:v}),Object(u.jsxs)("div",{className:"info",children:["Live Stream from ",Object(u.jsx)("b",{children:"Earth"})]})]})]})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))},9:function(t,e,i){}},[[11,1,2]]]);
//# sourceMappingURL=main.9afea599.chunk.js.map