(this.webpackJsonpjoinrave=this.webpackJsonpjoinrave||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(4),s=n.n(a),r=(n(9),n(2)),o=n.p+"static/media/play.67fb6362.svg",u=n.p+"static/media/pause.12407eb8.svg",d=n(0),j=new Audio;var l=function(){var e,t,n=Object(c.useState)(null),i=Object(r.a)(n,2),a=i[0],s=i[1],l=Object(c.useState)(!1),b=Object(r.a)(l,2),v=b[0],f=b[1],O=Object(c.useState)(!1),m=Object(r.a)(O,2),p=m[0],h=m[1],x=Object(c.useState)(!1),g=Object(r.a)(x,2),E=g[0],y=g[1],L=function(){h(!0),fetch("https://api.joinrave.com/current").then((function(e){return e.json()})).then((function(e){s(e),j.src=e.metadata.file,j.load()})).catch((function(){h(!1)}))},S=function(){E||y(!0)};return Object(c.useEffect)((function(){E&&a&&(j.currentTime=a.time,j.play(),f(!0),h(!1))}),[E,a]),Object(c.useEffect)((function(){return j.addEventListener("ended",L),j.addEventListener("canplay",S),function(){j.removeEventListener("ended",L),j.removeEventListener("canplay",S)}}),[]),Object(d.jsxs)("div",{className:"app",children:[v?Object(d.jsx)("img",{src:u,onClick:function(){j.pause(),f(!1),y(!1)}}):Object(d.jsx)("img",{src:o,onClick:L}),Object(d.jsxs)("div",{className:"info",children:[p&&"Loading...",!p&&a&&Object(d.jsxs)(d.Fragment,{children:[null===a||void 0===a||null===(e=a.metadata)||void 0===e?void 0:e.title," by ",Object(d.jsx)("b",{children:null===a||void 0===a||null===(t=a.metadata)||void 0===t?void 0:t.artist})]})]})]})};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(l,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.9e01e01d.chunk.js.map