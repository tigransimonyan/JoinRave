(this.webpackJsonpjoinrave=this.webpackJsonpjoinrave||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),a=n(4),r=n.n(a),c=(n(9),n(2)),s=n.p+"static/media/play.67fb6362.svg",d=n.p+"static/media/pause.12407eb8.svg",w=function(e){var t=new window.SimplexNoise;!function(){var n=new(window.AudioContext||window.webkitAudioContext),i=n.createAnalyser();n.createMediaElementSource(e).connect(i),i.connect(n.destination),i.fftSize=512;var o=new Uint8Array(i.frequencyBinCount),a=new window.window.THREE.Scene,r=new window.THREE.Group,c=new window.THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3);c.position.set(0,0,100),c.lookAt(a.position),a.add(c);var s=new window.THREE.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(window.innerWidth,window.innerHeight);var d=new window.THREE.PlaneGeometry(800,800,20,20),w=new window.THREE.MeshLambertMaterial({color:6882510,side:window.THREE.DoubleSide,wireframe:!0}),h=new window.THREE.Mesh(d,w);h.rotation.x=-.5*Math.PI,h.position.set(0,30,0),r.add(h);var p=new window.THREE.Mesh(d,w);p.rotation.x=-.5*Math.PI,p.position.set(0,-30,0),r.add(p);var v=new window.THREE.IcosahedronGeometry(10,4),b=new window.THREE.MeshLambertMaterial({color:16711918,wireframe:!0}),E=new window.THREE.Mesh(v,b);E.position.set(0,0,0),r.add(E);var j=new window.THREE.AmbientLight(11184810);a.add(j);var g=new window.THREE.SpotLight(16777215);function f(e,n){e.geometry.vertices.forEach((function(e,i){var o=Date.now(),a=(t.noise2D(e.x+3e-4*o,e.y+1e-4*o)+0)*n*2;e.z=a})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}g.intensity=.9,g.position.set(-10,40,20),g.lookAt(E),g.castShadow=!0,a.add(g),a.add(r),document.getElementById("out").appendChild(s.domElement),window.addEventListener("resize",(function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}),!1),function e(){i.getByteFrequencyData(o);var n,d,w,v=o.slice(0,o.length/2-1),b=o.slice(o.length/2-1,o.length-1),j=(u(o),m(v)),g=(u(v),m(b),u(b)),y=j/v.length,O=(v.length,b.length,g/b.length);f(h,l(O,0,1,.5,4)),f(p,l(y,0,1,.5,4)),n=E,d=l(Math.pow(y,.8),0,1,0,8),w=l(O,0,1,0,4),n.geometry.vertices.forEach((function(e,i){var o=n.geometry.parameters.radius,a=7,r=window.performance.now();e.normalize();var c=1e-5,s=o+d+t.noise3D(e.x+r*c*7,e.y+r*c*8,e.z+r*c*9)*a*w;e.multiplyScalar(s)})),n.geometry.verticesNeedUpdate=!0,n.geometry.normalsNeedUpdate=!0,n.geometry.computeVertexNormals(),n.geometry.computeFaceNormals(),r.rotation.y+=.005,s.render(a,c),requestAnimationFrame(e)}()}()};function l(e,t,n,i,o){return i+function(e,t,n){return(e-t)/(n-t)}(e,t,n)*(o-i)}function u(e){return e.reduce((function(e,t){return e+t}))/e.length}function m(e){return e.reduce((function(e,t){return Math.max(e,t)}))}var h=n(0),p=new Audio;var v=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)(!1),r=Object(c.a)(a,2),l=r[0],u=r[1],m=Object(i.useState)(!1),v=Object(c.a)(m,2),b=v[0],E=v[1];Object(i.useEffect)((function(){p.crossOrigin="anonymous",p.src="https://greggman.github.io/doodles/sounds/DOCTOR VOX - Level Up.mp3",p.load();try{w(p)}catch(e){console.log(e)}}),[]);var j=Object(i.useCallback)((function(){l&&!n&&(p.play(),o(!0))}),[l,n]),g=Object(i.useCallback)((function(){n&&(p.pause(),o(!1))}),[n]),f=Object(i.useCallback)((function(){l||u(!0)}),[l]),y=Object(i.useCallback)((function(){return j()}),[j]),O=Object(i.useCallback)((function(){return g()}),[g]),x=Object(i.useCallback)((function(){E(!0)}),[]);return Object(i.useEffect)((function(){return p.addEventListener("play",y),p.addEventListener("pause",O),p.addEventListener("canplay",f),p.addEventListener("error",x),function(){p.removeEventListener("play",y),p.removeEventListener("pause",O),p.removeEventListener("canplay",f),p.removeEventListener("error",x)}}),[y,f,x,O]),Object(h.jsxs)("div",{id:"main",children:[Object(h.jsx)("canvas",{id:"canv",width:"100%",height:"100%"}),Object(h.jsx)("div",{id:"out"}),Object(h.jsxs)("div",{className:"app",children:[l||b?n?Object(h.jsx)("img",{className:"pause",alt:"Pause",src:d,onClick:g}):Object(h.jsx)("img",{className:"play",alt:"Play",src:s,onClick:j}):Object(h.jsx)("div",{className:"loading"}),Object(h.jsx)("div",{className:"info",children:b?Object(h.jsxs)(h.Fragment,{children:["No Live Stream ",Object(h.jsx)("b",{children:"Today"})]}):Object(h.jsxs)(h.Fragment,{children:["Live Stream from ",Object(h.jsx)("b",{children:"Earth"})]})})]})]})};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.1ba4b3e9.chunk.js.map