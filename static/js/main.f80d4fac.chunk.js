(this.webpackJsonpjoinrave=this.webpackJsonpjoinrave||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(4),r=n.n(o),c=(n(9),n(2)),s=n.p+"static/media/play.67fb6362.svg",d=n.p+"static/media/pause.12407eb8.svg",w=function(e){var t=new window.SimplexNoise;!function(){var n=new(window.AudioContext||window.webkitAudioContext),i=n.createAnalyser();n.createMediaElementSource(e).connect(i),i.connect(n.destination),i.fftSize=512;var a=new Uint8Array(i.frequencyBinCount),o=new window.window.THREE.Scene,r=new window.THREE.Group,c=new window.THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3);c.position.set(0,0,100),c.lookAt(o.position),o.add(c);var s=new window.THREE.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(window.innerWidth,window.innerHeight);var d=new window.THREE.PlaneGeometry(800,800,20,20),w=new window.THREE.MeshLambertMaterial({color:6882510,side:window.THREE.DoubleSide,wireframe:!0}),h=new window.THREE.Mesh(d,w);h.rotation.x=-.5*Math.PI,h.position.set(0,30,0),r.add(h);var v=new window.THREE.Mesh(d,w);v.rotation.x=-.5*Math.PI,v.position.set(0,-30,0),r.add(v);var p=new window.THREE.IcosahedronGeometry(10,4),b=new window.THREE.MeshLambertMaterial({color:16711918,wireframe:!0}),j=new window.THREE.Mesh(p,b);j.position.set(0,0,0),r.add(j);var E=new window.THREE.AmbientLight(11184810);o.add(E);var f=new window.THREE.SpotLight(16777215);function g(e,n){e.geometry.vertices.forEach((function(e,i){var a=Date.now(),o=(t.noise2D(e.x+3e-4*a,e.y+1e-4*a)+0)*n*2;e.z=o})),e.geometry.verticesNeedUpdate=!0,e.geometry.normalsNeedUpdate=!0,e.geometry.computeVertexNormals(),e.geometry.computeFaceNormals()}f.intensity=.9,f.position.set(-10,40,20),f.lookAt(j),f.castShadow=!0,o.add(f),o.add(r),document.getElementById("out").appendChild(s.domElement),window.addEventListener("resize",(function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}),!1),function e(){i.getByteFrequencyData(a);var n,d,w,p=a.slice(0,a.length/2-1),b=a.slice(a.length/2-1,a.length-1),E=(u(a),m(p)),f=(u(p),m(b),u(b)),y=E/p.length,O=(p.length,b.length,f/b.length);g(h,l(O,0,1,.5,4)),g(v,l(y,0,1,.5,4)),n=j,d=l(Math.pow(y,.8),0,1,0,8),w=l(O,0,1,0,4),n.geometry.vertices.forEach((function(e,i){var a=n.geometry.parameters.radius,o=7,r=window.performance.now();e.normalize();var c=1e-5,s=a+d+t.noise3D(e.x+r*c*7,e.y+r*c*8,e.z+r*c*9)*o*w;e.multiplyScalar(s)})),n.geometry.verticesNeedUpdate=!0,n.geometry.normalsNeedUpdate=!0,n.geometry.computeVertexNormals(),n.geometry.computeFaceNormals(),r.rotation.y+=.005,s.render(o,c),requestAnimationFrame(e)}()}()};function l(e,t,n,i,a){return i+function(e,t,n){return(e-t)/(n-t)}(e,t,n)*(a-i)}function u(e){return e.reduce((function(e,t){return e+t}))/e.length}function m(e){return e.reduce((function(e,t){return Math.max(e,t)}))}var h=n(0),v=new Audio;var p=function(){var e=Object(i.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),r=Object(c.a)(o,2),l=r[0],u=r[1],m=Object(i.useState)(!1),p=Object(c.a)(m,2),b=p[0],j=p[1];Object(i.useEffect)((function(){v.crossOrigin="anonymous",v.src="https://radio.joinrave.com/stream",v.load();try{w(v)}catch(e){console.log(e)}}),[]);var E=Object(i.useCallback)((function(){l&&!n&&(v.play(),a(!0))}),[l,n]),f=Object(i.useCallback)((function(){n&&(v.pause(),a(!1))}),[n]),g=Object(i.useCallback)((function(){l||u(!0)}),[l]),y=Object(i.useCallback)((function(){return E()}),[E]),O=Object(i.useCallback)((function(){return f()}),[f]),x=Object(i.useCallback)((function(){j(!0)}),[]);return Object(i.useEffect)((function(){return v.addEventListener("play",y),v.addEventListener("pause",O),v.addEventListener("canplay",g),v.addEventListener("error",x),function(){v.removeEventListener("play",y),v.removeEventListener("pause",O),v.removeEventListener("canplay",g),v.removeEventListener("error",x)}}),[y,g,x,O]),Object(h.jsxs)("div",{id:"main",children:[Object(h.jsx)("canvas",{id:"canv",width:"100%",height:"100%"}),Object(h.jsx)("div",{id:"out"}),Object(h.jsxs)("div",{className:"app",children:[l||b?n?Object(h.jsx)("img",{className:"pause",alt:"Pause",src:d,onClick:f}):Object(h.jsx)("img",{className:"play",alt:"Play",src:s,onClick:E}):Object(h.jsx)("div",{className:"loading"}),Object(h.jsx)("div",{className:"info",children:b?Object(h.jsxs)(h.Fragment,{children:["No Live Stream ",Object(h.jsx)("b",{children:"Today"})]}):Object(h.jsxs)(h.Fragment,{children:["Live Stream from ",Object(h.jsx)("b",{children:"Earth"})]})})]})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.f80d4fac.chunk.js.map